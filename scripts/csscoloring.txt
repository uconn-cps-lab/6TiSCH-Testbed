$("#schedule>table>tbody>tr>td>table").css("background-color","red")
$("#schedule>table>tbody>tr>td>table>tbody>tr>td").each(function() {
  var res=$(this).text().match("([0-9]+)->[0-9]+")
  if(res!=null){
    $(this).text$(this).text()+res[1])
  }
})

function getper(node){
  per=[0.39718659495242037, 0.38888438791217694, 0.3969238402381543, 4.329004329004329, 6.5323854660347553, 4.8041155520379899, 8.8316046369737649, 1.8587360594795539, 5.6724178681162849, 4.6468687490383136, 6.693158796945613, 11.592920353982301, 0.32583239995927094, 4.7604654677346225, 3.8696939782823296, 4.7244094488188972, 2.5407863064990641, 0.92265943012211671, 3.6936236391912907, 3.8258575197889182, 4.9450549450549453, 11.877300613496933, 0.19115237575095576, 1.3154433043935807, 4.3650793650793647, 0.54333061668024996, 13.562169947191551, 12.606266699052709, 18.72271996324374, 2.3809523809523809, 12.275157997083131, 2.3074859136034345, 6.6015926021063445, 32.601559294214198, 1.564185544768069, 0.67897881586094511, 1.7934782608695652, 0.57550013702384217, 0.41174855888004391, 3.2309746328437918, 1.9994668088509731, 17.898832684824903, 6.3160608404227894, 0.6491750067622396, 17.806731813246472, 15.382797731568997, 0.17592359889419451, 10.489192263936291, 9.9029609355561092, 3.1308039267710268, 5.1261829652996846, 17.688787185354691, 40.389189189189189, 0.70844686648501365, 1.2195121951219512, 1.1503477795612627, 2.3412271259418729, 5.384615384615385, 2.2794314829713058, 0.43644298963447897, 20.437133844073909, 0.24610336341263331, 14.170233000475511, 1.1920888648062855, 25.830027145541866, 0.87074829931972786, 1.352447930754666, 0.43431053203040176, 8.3480900581836579, 3.6633926201221132, 18.386577798207309, 1.7318289162949356, 1.2561441835062808, 0.30319735391400221, 10.606060606060606, 6.008921542902125, 7.2647362978283354, 13.847251962883654, 11.786237188872621, 1.6607677647699428, 7.008502963153826, 0.43775649794801641, 7.252298263534219, 0.35412694088804142, 2.2049878345498786, 2.9118773946360155, 23.505490036600243, 18.917679431323091, 3.6014721345951628, 7.9600716662400819, 15.035294117647059, 0.73871409028727775, 0.16295491580662683, 0.38033143167617495, 4.2581953362622507, 0.0, 0.0]
  if(!node)return 0;
  if(node<3)return 0;
  return per[node-3];
}
$("#schedule>table>tbody>tr>td>table>tbody>tr>td").each(function() {
  var res=$(this).text().match("([0-9]+)->[0-9]+")
  if(res!=null){
    //$(this).text$(this).text()+res[1])
    var node=res[1];
    var per = getper(node);
    var color = Math.round((100.0-per*3)/100.0*256);
    //$(this).text($(this).text()+color)
    var color = "rgb(255,"+color+","+color+")";
    $(this).css("background-color",color)
  }
})